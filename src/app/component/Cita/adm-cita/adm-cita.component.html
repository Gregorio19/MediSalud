<div>
    <span>Especialidad</span>
    <p-dropdown [options]="Especialidades" [(ngModel)]="Especialidad" filter="true" optionLabel="sNomEsp"></p-dropdown>
</div>

<div>
    <span>Sucursusales</span>
    <p-dropdown [options]="Sucursusales" [(ngModel)]="Sucursal" filter="true" optionLabel="sNombre"></p-dropdown>
</div>

<div>
    <span>Fecha Inicio Busqueda</span>
    <p-calendar [(ngModel)]="fechaI" [showIcon]="true" [locale]="es" dateFormat="dd/mm/yy" [monthNavigator]="true"
        [yearNavigator]="true" yearRange="1915:2030"></p-calendar>
</div>

<div>
    <span>Fecha Fin de busqueda</span>
    <p-calendar [(ngModel)]="fechaF" [showIcon]="true" [locale]="es" dateFormat="dd/mm/yy" [monthNavigator]="true"
        [yearNavigator]="true" yearRange="1915:2030"></p-calendar>
</div>

<div class="btn btn-primary" (click)="GetAllCitas()">
    Traer citas
</div>

<div *ngIf="CItas">
    <div style="text-align: right">
        <i class="pi pi-search" style="margin:4px 4px 0 0"></i>
        <input type="text" placeholder="Global Filter" [(ngModel)]="filtros" (ngModelChange)="filtrar()"
            style="width:auto">
    </div>
    <p-table #dt [columns]="cols" [value]="CItas" [paginator]="true" [rows]="10" sortMode="multiple">
        <ng-template pTemplate="header" let-columns>
            <tr>
                <th *ngFor="let col of columns">
                    {{col.header}}
                </th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-rowData let-columns="columns">
            <tr [pSelectableRow]="rowData">
                <td *ngFor="let col of columns">
                    <div *ngIf="col.nombre == 'Estado'">
                        <p-dropdown [options]="EstadosCIta" [(ngModel)]="rowData['agendas']"
                            (ngModelChange)="cambiotipoagenda()" filter="true" optionLabel="nombre">
                            <ng-template let-item pTemplate="selectedItem">
                                {{rowData[col.nombre]}}
                            </ng-template>
                        </p-dropdown>
                    </div>
                    <div *ngIf="col.nombre != 'Estado'">
                        {{rowData[col.nombre]}}
                    </div>

                </td>
            </tr>
        </ng-template>
    </p-table>
</div>